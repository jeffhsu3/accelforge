problem:
  - shape:
      name: Matmul1
      dimensions: [ M1, N1, K1 ]
      data_spaces:
      - name: Fmap1
        dimensions: [ Fmap1_K, Fmap1_M ]
        projection: '[ K1, M1 ]'
      - name: Filter1
        dimensions: [ Filter1_K, Filter1_N ]
        projection: '[ K1, N1 ]'
      - name: Fmap2
        dimensions: [ Fmap2_K, Fmap2_M ]
        projection: '[ N1, M1 ]'
        read_write: True
    instance: 0 <= M1 < {M} and 0 <= N1 < {N1} and 0 <= K1 < {N1}

  - shape:
      name: Matmul2
      dimensions: [ M2, N2, K2 ]
      data_spaces:
      - name: Fmap2
        dimensions: [ Fmap2_K, Fmap2_M ]
        projection: '[ K2, M2 ]'
      - name: Filter2
        dimensions: [ Filter2_K, Filter2_N ]
        projection: '[ K2, N2 ]'
      - name: Fmap3
        dimensions: [ Fmap3_K, Fmap3_M ]
        projection: '[ N2, M2 ]'
        read_write: True
    instance: 0 <= M2 < {M} and 0 <= N2 < {N2} and 0 <= K2 < {N1}

  - shape:
      name: Matmul3
      dimensions: [ M3, N3, K3 ]
      data_spaces:
      - name: Fmap3
        dimensions: [ Fmap3_K, Fmap3_M ]
        projection: '[ K3, M3 ]'
      - name: Filter3
        dimensions: [ Filter3_K, Filter3_N ]
        projection: '[ K3, N3 ]'
      - name: Fmap4
        dimensions: [ Fmap4_K, Fmap4_M ]
        projection: '[ N3, M3 ]'
        read_write: True
    instance: 0 <= M3 < {M} and 0 <= N3 < {N2} and 0 <= K3 < {N2}

  - shape:
      name: Matmul4
      dimensions: [ M4, N4, K4 ]
      data_spaces:
      - name: Fmap4
        dimensions: [ Fmap4_K, Fmap4_M ]
        projection: '[ K4, M4 ]'
      - name: Filter4
        dimensions: [ Filter4_K, Filter4_N ]
        projection: '[ K4, N4 ]'
      - name: Fmap5
        dimensions: [ Fmap5_K, Fmap5_M ]
        projection: '[ N4, M4 ]'
        read_write: True
    instance: 0 <= M4 < {M} and 0 <= N4 < {N1} and 0 <= K4 < {N2}
