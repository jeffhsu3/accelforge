arch:
  version: "0.5"
  global_cycle_period: 1e-9
  nodes:
  - !Memory
    name: MainMemory
    attributes:
      size: 9999999999999
      _datawidth: 1
    constraints: {tensors: {keep: ~Intermediates()}}
    actions:
    - {name: read, arguments: {energy: 1}}
    - {name: write, arguments: {energy: 1}}
    - {name: leak, arguments: {energy: 0}}

  - !Memory
    name: GlobalBuffer
    attributes:
      size: 100e6
      _datawidth: 1
    constraints: {tensors: {keep: All()}}
    actions:
    - {name: read, arguments: {energy: 0}}
    - {name: write, arguments: {energy: 0}}
    - {name: leak, arguments: {energy: 0}}

  - !Compute
    name: MAC
    actions:
    - {name: compute, arguments: {energy: 0}}
    - {name: leak, arguments: {energy: 0}}
