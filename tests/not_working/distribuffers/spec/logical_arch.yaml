arch:
  nodes:
  - !Component
    name: DRAM                 # offchip DRAM is the source of all datatypes
    class: DRAM                # assume DRAM is large enough to store all the data, so no depth specification needed
    attributes:
      width: 64                # width in bits

  - !Container
    name: ProcessingElement
    spatial: {meshX: 1, meshY: 2}

  # registers for the mac unit
  - !Component
    name: weight_reg
    class: reg_storage
    attributes: {depth: 1, width: 8}

  - !Component
    name: input_activation_reg
    class: reg_storage
    attributes: {depth: 1, width: 8}

  - !Component
    name: output_activation_reg
    class: reg_storage
    attributes: {depth: 1, width: 8}

  - !Component
    name: mac
    class: mac_compute
    attributes: {num_pipline_stages: 2}