arch:
  nodes:
  - !Component
    name: DRAM                 # offchip DRAM is the source of all datatypes
    class: DRAM                # assume DRAM is large enough to store all the data, so no depth specification needed
    attributes:
      datawidth: 32

  - !Component
    name: GLB
    class: SRAM
    # TODO: attributes are placeholders.
    attributes:
      datawidth: 16
      width: 128
      size: 256

  # registers for the mac unit
  - !Memory
    name: output_activation_reg
    class: reg_storage
    spatial: {meshI: 8}
    attributes: {depth: 1, datawidth: datawidth, width: datawidth}

  - !Compute
    name: mac
    class: mac_compute
    attributes: {num_pipline_stages: 2}