
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Accelerator Energy, Area, and Latency &#8212; accelforge 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'guide/modeling/accelerator_energy_latency';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mapping with Fast &amp; Fusiest" href="mapping.html" />
    <link rel="prev" title="Component Energy and Area" href="component_energy_area.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.svg" class="logo__image only-light" alt="accelforge 0.1.0 documentation - Home"/>
    <img src="../../_static/logo.svg" class="logo__image only-dark pst-js-only" alt="accelforge 0.1.0 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../guide.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../modules.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../citation.html">
    Citing AccelForge
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../guide.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../modules.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../citation.html">
    Citing AccelForge
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../spec.html">Input Specifications</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../spec/architecture.html">Arch Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spec/mapping.html">Mapping Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spec/workload.html">Workload and Renames Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parsing/evaluation.html">Expression Evaluation</a></li>

<li class="toctree-l2"><a class="reference internal" href="../parsing/yaml_parsing.html">YAML Parsing</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../modeling.html">How Modeling Works</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="component_energy_area.html">Component Energy and Area</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Accelerator Energy, Area, and Latency</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapping.html">Mapping with Fast &amp; Fusiest</a></li>

</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faqs.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timeloop_compare.html">Migrating from Timeloop</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../guide.html" class="nav-link">User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="../modeling.html" class="nav-link">How Modeling Works</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Accelerator Energy, Area, and Latency</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="accelerator-energy-area-and-latency">
<h1>Accelerator Energy, Area, and Latency<a class="headerlink" href="#accelerator-energy-area-and-latency" title="Link to this heading">#</a></h1>
<p id="accelerator-energy-latency">To calculate energy and latency, we first need to look at the number of actions incurred
by each <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Component" title="accelforge.frontend.arch.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a> in the architecture.</p>
<section id="calculating-number-of-actions-from-a-mapping">
<span id="calculating-num-actions"></span><h2>Calculating Number of Actions from A Mapping<a class="headerlink" href="#calculating-number-of-actions-from-a-mapping" title="Link to this heading">#</a></h2>
<p>Except for <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Compute" title="accelforge.frontend.arch.Compute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compute</span></code></a>components (whose number of
compute actions, barring recomputation, depends only on workload), the number of actions
incurred by most <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Component" title="accelforge.frontend.arch.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a>s depends on the
component type, the workload, and the mapping.</p>
<p>For <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Memory" title="accelforge.frontend.arch.Memory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Memory</span></code></a> and
<a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Toll" title="accelforge.frontend.arch.Toll"><code class="xref py py-class docutils literal notranslate"><span class="pre">Toll</span></code></a> components, the number of actions
depends on the number of accesses to the component. They may be accessed in two ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">read</span></code>: The component is read from a lower-level component, or output values are read
up to a higher-level component.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write</span></code>: The component is written to a lower-level component, or input values are
written from a higher-level component.</p></li>
</ul>
<p>The number of actions incurred by accesses for each tensor are equal to the number of
values accessed times the bits per value of the tensor (determined by the workload),
divided by the <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.TensorHolderAction.bits_per_action" title="accelforge.frontend.arch.TensorHolderAction.bits_per_action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bits_per_action</span></code></a>
attribute. attribute. For example, if 1024 values are accessed with a bits per value of
16 bits and <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.TensorHolderAction.bits_per_action" title="accelforge.frontend.arch.TensorHolderAction.bits_per_action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bits_per_action</span></code></a> is
32, then 1024 * 16 / 32 = 512 actions are incurred.</p>
<p>Read+Modify+Writes (RMWs) to a component are counted as a read and a write. The first
read of output data is skipped because the value has not been written yet.</p>
<p>By default, the <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.TensorHolderAction.bits_per_action" title="accelforge.frontend.arch.TensorHolderAction.bits_per_action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bits_per_action</span></code></a>
attributes is set to 1, meaning that memory accesses are counted in terms of bits
accessed unless <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.TensorHolderAction.bits_per_action" title="accelforge.frontend.arch.TensorHolderAction.bits_per_action"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bits_per_action</span></code></a>
is set to a different value.</p>
</section>
<section id="calculating-latency-from-a-pmapping">
<h2>Calculating Latency from a Pmapping<a class="headerlink" href="#calculating-latency-from-a-pmapping" title="Link to this heading">#</a></h2>
<p>The total latency of a component, defined in the class’s
<a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Component.total_latency" title="accelforge.frontend.arch.Component.total_latency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_latency</span></code></a> field, is a Python
expression that is evaluated using the component’s actions.</p>
<p>The <a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Component.total_latency" title="accelforge.frontend.arch.Component.total_latency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_latency</span></code></a> field is
an expression representing the total latency of this component in seconds. This is used to calculate the latency of a given Einsum. Special variables available are the following: - <cite>min</cite>: The minimum value of all arguments to the expression. - <cite>max</cite>: The maximum value of all arguments to the expression. - <cite>sum</cite>: The sum of all arguments to the expression. - <cite>X_actions</cite>: The number of times action <cite>X</cite> is performed. For example, <cite>read_actions</cite> is the number of times the read action is performed. - <cite>X_latency</cite>: The total latency of all actions of type <cite>X</cite>. For example, <cite>read_latency</cite> is the total latency of all read actions. It is equal to the per-read latency multiplied by the number of read actions. - <cite>action2latency</cite>: A dictionary of action names to their latency. Additionally, all component attributes are availble as variables, and all other functions generally available in parsing. Note this expression is evaluated after other component attributes are evaluated. For example, the following expression calculates latency assuming that each read or write action takes 1ns: <code class="docutils literal notranslate"><span class="pre">1e-9</span> <span class="pre">*</span> <span class="pre">(read_actions</span> <span class="pre">+</span> <span class="pre">write_actions)</span></code>.</p>
</section>
<section id="calculating-area-and-leak-power">
<h2>Calculating Area and Leak Power<a class="headerlink" href="#calculating-area-and-leak-power" title="Link to this heading">#</a></h2>
<p>After <a class="reference internal" href="component_energy_area.html#component-modeling"><span class="std std-ref">Component Energy and Area</span></a> is completed, we can get area with the
<a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Arch.per_component_total_area" title="accelforge.frontend.arch.Arch.per_component_total_area"><code class="xref py py-attr docutils literal notranslate"><span class="pre">per_component_total_area</span></code></a> and
<a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Arch.total_area" title="accelforge.frontend.arch.Arch.total_area"><code class="xref py py-attr docutils literal notranslate"><span class="pre">total_area</span></code></a> attributes. Similarly, we can get
leak power with the
<a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Arch.per_component_total_leak_power" title="accelforge.frontend.arch.Arch.per_component_total_leak_power"><code class="xref py py-attr docutils literal notranslate"><span class="pre">per_component_total_leak_power</span></code></a> and
<a class="reference internal" href="../../accelforge.frontend.arch.html#accelforge.frontend.arch.Arch.total_leak_power" title="accelforge.frontend.arch.Arch.total_leak_power"><code class="xref py py-attr docutils literal notranslate"><span class="pre">total_leak_power</span></code></a> attributes.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="component_energy_area.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Component Energy and Area</p>
      </div>
    </a>
    <a class="right-next"
       href="mapping.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Mapping with Fast &amp; Fusiest</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-number-of-actions-from-a-mapping">Calculating Number of Actions from A Mapping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-latency-from-a-pmapping">Calculating Latency from a Pmapping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-area-and-leak-power">Calculating Area and Leak Power</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/guide/modeling/accelerator_energy_latency.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.1.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>